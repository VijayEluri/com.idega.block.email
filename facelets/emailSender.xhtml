<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:content="http://xmlns.idega.com/com.idega.content"
xmlns="http://www.w3.org/1999/xhtml">

	<head>
<!-- 		<script type="text/javascript">
			jQuery(document).ready(function(){
				EmailSenderHelper.init();
			});
		</script> 
 -->	</head>
	
	<body onload="onLoad();">
		<form class="emailSenderForm" id="emailSenderFormId">
			<input type="hidden" name="emailSenderFullName" value="#{emailSenderStateBean.currentUser.name}" />
			<input type="hidden" name="allowChangeRecipientAddress" value="#{emailSenderStateBean.allowChangeRecipientAddress}" />
			<input type="hidden" name="saveMessageIntoDB" value="#{emailSenderStateBean.saveMessageIntoDB}" />
			<input type="hidden" name="textAreaValue" value="#{emailSenderStateBean.message}" />
		
			<div class="emailSenderFormItem">
				<t:div rendered="#{!emailSenderStateBean.addressFromReadOnly}">
					<label for="emailSenderFrom">#{localizedStrings['com.idega.block.email']['email_sender.from']}:
						<span class="requiredField">*</span>
					</label>
					<input id="emailSenderFrom" class="required" type="text" name="emailSenderFrom" value="#{emailSenderStateBean.from}"/>
				</t:div>
				<t:div rendered="#{emailSenderStateBean.addressFromReadOnly}">
					<label for="emailSenderFrom">#{localizedStrings['com.idega.block.email']['email_sender.from']}: </label>
					<input type="hidden" id="emailSenderFrom" name="emailSenderFrom" value="#{emailSenderStateBean.from}"/>
					<label>#{emailSenderStateBean.from}</label>
				</t:div>
		 	</div>
<!-- 		 	
		 	<div class="emailSenderFormItem">
				<label for="emailSenderReplyTo">#{localizedStrings['com.idega.block.email']['email_sender.reply_to']}:</label>
				<input id="emailSenderReplyTo" type="text" name="emailSenderReplyTo" value="#{emailSenderStateBean.replyTo}" />
		 	</div>
		 	
 -->			

 			<div class="emailSenderFormItem">
				<label for="emailSenderTo">#{localizedStrings['com.idega.block.email']['email_sender.to']}:
					<span class="requiredField">*</span>
				</label>
				<input id="emailSenderTo" class="required" type="text" name="emailSenderTo" value="#{emailSenderStateBean.recipientTo}" />
			</div>

			<!-- Comment about CC and BCC -->
 			<div class="helperText">
				<label>#{localizedStrings['com.idega.block.email']['email_sender.help_text_for_cc_and_bcc']}</label>
			</div>
			<!-- Comment about CC and BCC -->

			<!-- CC -->
 			<div class="emailSenderFormItem">
				<label for="showCC">#{localizedStrings['com.idega.block.email']['email_sender.show_cc']}:</label>
				<input name="showCC" type="checkbox" value="true" onchange="onShowCChange();"></input>
			</div>
			<div class="emailSenderFormItem">
				<label id="emailSenderCcLabelId" for="emailSenderCc">#{localizedStrings['com.idega.block.email']['email_sender.cc']}:</label>
				<input id="emailSenderCc" type="text" name="emailSenderCc" value="#{emailSenderStateBean.recipientCc}" />
			</div>

			<!-- BCC -->
 			<div class="emailSenderFormItem">
				<label for="showBCC">#{localizedStrings['com.idega.block.email']['email_sender.show_bcc']}:</label>
				<input name="showBCC" type="checkbox" value="true" onchange="onShowBCChange();"></input>
			</div>
			<div class="emailSenderFormItem">
				<label id="emailSenderBccLabelId" for="emailSenderBcc">#{localizedStrings['com.idega.block.email']['email_sender.bcc']}:</label>
				<input id="emailSenderBcc" type="text" name="emailSenderBcc" value="#{emailSenderStateBean.recipientBcc}" />
			</div>
			
			
			<div class="emailSenderFormItem">
				<label for="emailSenderSubject">#{localizedStrings['com.idega.block.email']['email_sender.subject']}:</label>
				<input id="emailSenderSubject" type="text" name="emailSenderSubject" value="#{emailSenderStateBean.subject}" />
			</div>
			<div class="emailSenderFormItem">
				<label>#{localizedStrings['com.idega.block.email']['email_sender.upload_file']}:</label>
				<content:fileUploadViewer allowMultipleFiles="false" autoAddFileInput="false" autoUpload="true" showUploadedFiles="true" formId="emailSenderFormId" />
			</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderMessage">#{localizedStrings['com.idega.block.email']['email_sender.message']}:</label>
				<textarea id="emailSenderMessage" name="emailSenderMessage" cols="25" rows="10" />
			</div>
			
			<div class="emailSenderButtons">
				<input type="button" value="#{localizedStrings['com.idega.block.email']['email_sender.send']}" onclick="EmailSenderHelper.sendMessage(event);" />
			</div>
		</form>
	</body>
</html>