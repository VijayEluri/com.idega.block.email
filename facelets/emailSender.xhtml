<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:content="http://xmlns.idega.com/com.idega.content"
xmlns="http://www.w3.org/1999/xhtml">

	<head>
<!-- 		<script type="text/javascript">
			jQuery(document).ready(function(){
				EmailSenderHelper.init();
			});
		</script> 
 -->	</head>
	
	<body onload="onLoad();">
		<form class="emailSenderForm" id="emailSenderFormId">
			<input type="hidden" name="emailSenderFullName" value="#{emailSenderStateBean.currentUser.name}" />
			<input type="hidden" name="allowChangeRecipientAddress" value="#{emailSenderStateBean.allowChangeRecipientAddress}" />
			<input type="hidden" name="saveMessageIntoDB" value="#{emailSenderStateBean.saveMessageIntoDB}" />
			<input type="hidden" name="textAreaValue" value="#{emailSenderStateBean.message}" />
		
			<div class="emailSenderFormItem">
				<t:div rendered="#{!emailSenderStateBean.addressFromReadOnly}">
					<label for="emailSenderFrom">#{localizedStrings['com.idega.block.email']['email_sender.from']}:
						<span class="requiredField">*</span>
					</label>
					<input id="emailSenderFrom" class="email-form-input email-form-from required" type="text" name="emailSenderFrom" value="#{emailSenderStateBean.from}"/>
				</t:div>
				<t:div rendered="#{emailSenderStateBean.addressFromReadOnly}">
					<label for="emailSenderFrom">#{localizedStrings['com.idega.block.email']['email_sender.from']}: </label>
					<input type="hidden" id="emailSenderFrom" name="emailSenderFrom" value="#{emailSenderStateBean.from}"/>
					<label>#{emailSenderStateBean.from}</label>
				</t:div>
		 	</div>
		 	<div class="emailSenderFormItem">
				<label for="emailSenderReplyTo">#{localizedStrings['com.idega.block.email']['email_sender.reply_to']}:</label>
				<input id="emailSenderReplyTo" class="email-form-input email-form-reply-to" type="text" name="emailSenderReplyTo" value="#{emailSenderStateBean.replyTo}" />
		 	</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderTo">#{localizedStrings['com.idega.block.email']['email_sender.to']}:
					<span class="requiredField">*</span>
				</label>
				<input id="emailSenderTo" class="email-form-input email-form-to required" type="text" name="emailSenderTo" value="#{emailSenderStateBean.recipientTo}" />
			</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderCc">#{localizedStrings['com.idega.block.email']['email_sender.cc']}:</label>
				<input id="emailSenderCc" class="email-form-input email-form-cc" type="text" name="emailSenderCc" value="#{emailSenderStateBean.recipientCc}" />
			</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderBcc">#{localizedStrings['com.idega.block.email']['email_sender.bcc']}:</label>
				<input id="emailSenderBcc" class="email-form-input email-form-bcc" type="text" name="emailSenderBcc" value="#{emailSenderStateBean.recipientBcc}" />
			</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderSubject">#{localizedStrings['com.idega.block.email']['email_sender.subject']}:</label>
				<input id="emailSenderSubject" class="email-form-input email-form-subject" type="text" name="emailSenderSubject" value="#{emailSenderStateBean.subject}" />
			</div>
			<div class="emailSenderFormItem">
				<label>#{localizedStrings['com.idega.block.email']['email_sender.upload_file']}:</label>
				<content:fileUploadViewer
					allowMultipleFiles="#{emailSenderStateBean.allowMultipleFiles}"
					autoUpload="true"
					autoAddFileInput="false"
					showUploadedFiles="true"
					formId="emailSenderFormId"
					stripNonRomanLetters="true"
					uploadPath="#{emailSenderStateBean.uploadPath}"
				/>	
				</div>
			<div class="emailSenderFormItem">
				<label for="emailSenderMessage">#{localizedStrings['com.idega.block.email']['email_sender.message']}:</label>
				<textarea id="emailSenderMessage" class="email-form-input email-form-message" name="emailSenderMessage" cols="25" rows="10" />
			</div>
			
			<div class="emailSenderButtons buttonLayer">
				<input type="button" value="#{localizedStrings['com.idega.block.email']['email_sender.send']}" onclick="EmailSenderHelper.sendMessage(event);" />
			</div>
		</form>
	</body>
</html>